{% block scripts %}
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script>  
        $(document).ready(function(){  
            $('#add_item').click(function(){ 
                container = null;
                itemName = null;
                infoDetails = null;
                console.log("CLICKED");
                console.log(itemName);
                console.log(infoDetails);
                console.log(container);
                var itemName = $('#itemName').val();  
                var infoDetails = $('#infoDetails').val();
                var container = $('input[type=hidden]').val();
                console.log("POST INFO CLICKED");
                console.log(itemName);
                console.log(infoDetails);
                console.log(container);
                if(itemName != '' && infoDetails != '')  
                {  
                    $.ajax({  
                            url:"/action",  
                            method:"POST",  
                            data: {itemName:itemName, infoDetails:infoDetails, container:container},  
                            success:function(data)  
                            {  
                                // alert(data);  
                                if(data == 'No-data')  
                                {  
                                    alert("Invalid Input");  
                                }   
                                else
                                {  
                                    $('#loginModal').hide();
                                    itemName = null;
                                    infoDetails = null;
                                    container = null;
                                    location.reload();  
                                }  
                            }  
                    });  
                }  
                else
                {  
                    alert("Both Fields are required");  
                }  
            });    
        });  
    </script> 
{% endblock %}
<div class="item_box">
    <ul class="tree">
            <div class="item_box_name">
                <div>
                    <div class="item_text">
                        <div>
                            {{ item.name }}
                        </div>
                        <div>
                            <a href="?delete={{ item.id }}" class="deleteImg"><img alt="bin" src="/static/images/icons/bin.png" /></a>
                            <input type="hidden" name="container_id" value="{{ item.id }}" />
                            <span>{{ item.id }}</span>
                        </div>
                        <div class="container" style="width:auto;">   
                            <div>  
                                 <a data-target="#myModal" role="button" class="btn btn-warning" data-toggle="modal"><span><input type="hidden" name="container_id" value="{{ item.id }}" /></span>Add Item</a>
                            </div>  
                       </div>  
                       <br />                    
                        <div id="myModal" class="modal fade">  
                            <div class="modal-dialog">  
                                <div class="modal-content">  
                                    <div class="modal-header">  
                                        <span>{{ item.name }} {{ item.id }}</span>
                                        <button type="button" class="close" data-dismiss="modal">Ã—</button>  
                                        <h4 class="modal-title">Add Items infromation Below</h4>  
                                    </div>  
                                    <div class="modal-body"> 
                                        <label>Item Name</label>  
                                        <span>{{ item.name }} {{ item.id }}</span>
                                        <input type="text" name="itemName" id="itemName" class="form-control" />  
                                        <br />  
                                        <label>Item Info</label>  
                                        <input type="text-area" name="infoDetails" id="infoDetails" class="form-control" />  
                                        <br />  
                                        <button type="button" name="add_item" id="add_item" class="btn btn-warning">Add Item</button>  
                                    </div>  
                                </div>  
                            </div>  
                        </div>  
                    </div>
                </div>
                <div class="item_box_info"><span class="item_text">{{ item.info }}</span> </div>
            </div>
                {% for item in item.contents %}
                <li>
                    <section>
                        {% include 'insideItem.html' %}
                    </section>
                {% endfor %}
                </li>
            </ul>
        </li>
    </ul>
</div>

